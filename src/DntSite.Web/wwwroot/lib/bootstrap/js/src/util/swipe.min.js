/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/bootstrap@5.3.3/js/src/util/swipe.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import EventHandler from"../dom/event-handler.js";import Config from"./config.js";import{execute}from"./index.js";const NAME="swipe",EVENT_KEY=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY}`,EVENT_TOUCHEND=`touchend${EVENT_KEY}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY}`,EVENT_POINTERUP=`pointerup${EVENT_KEY}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default={endCallback:null,leftCallback:null,rightCallback:null},DefaultType={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(t,e){super(),this._element=t,t&&Swipe.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}dispose(){EventHandler.off(this._element,EVENT_KEY)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&execute(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,(t=>this._start(t))),EventHandler.on(this._element,EVENT_POINTERUP,(t=>this._end(t))),this._element.classList.add("pointer-event")):(EventHandler.on(this._element,EVENT_TOUCHSTART,(t=>this._start(t))),EventHandler.on(this._element,EVENT_TOUCHMOVE,(t=>this._move(t))),EventHandler.on(this._element,EVENT_TOUCHEND,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}export default Swipe;
//# sourceMappingURL=/sm/3da51e742607f75201721d2edbe3eea99c271f145909ae2f851d0fb086f3bd45.map