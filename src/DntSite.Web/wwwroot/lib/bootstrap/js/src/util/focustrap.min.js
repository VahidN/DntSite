/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/bootstrap@5.3.3/js/src/util/focustrap.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import EventHandler from"../dom/event-handler.js";import SelectorEngine from"../dom/selector-engine.js";import Config from"./config.js";const NAME="focustrap",DATA_KEY="bs.focustrap",EVENT_KEY=`.${DATA_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default={autofocus:!0,trapElement:null},DefaultType={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY),EventHandler.on(document,EVENT_FOCUSIN,(t=>this._handleFocusin(t))),EventHandler.on(document,EVENT_KEYDOWN_TAB,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const n=SelectorEngine.focusableChildren(e);0===n.length?e.focus():"backward"===this._lastTabNavDirection?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?"backward":"forward")}}export default FocusTrap;
//# sourceMappingURL=/sm/fefb156bb291a77a14594d48f2b1443bf58b5922c49601fec78d521ee40c6399.map