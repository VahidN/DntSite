/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/quill@2.0.3/blots/embed.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{EmbedBlot}from"parchment";import TextBlot from"./text.js";const GUARD_TEXT="\ufeff";class Embed extends EmbedBlot{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((t=>{this.contentNode.appendChild(t)})),this.leftGuard=document.createTextNode("\ufeff"),this.rightGuard=document.createTextNode("\ufeff"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e,r=null;const s=t.data.split("\ufeff").join("");if(t===this.leftGuard)if(this.prev instanceof TextBlot){const t=this.prev.length();this.prev.insertAt(t,s),r={startNode:this.prev.domNode,startOffset:t+s.length}}else e=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(e),this),r={startNode:e,startOffset:s.length};else t===this.rightGuard&&(this.next instanceof TextBlot?(this.next.insertAt(0,s),r={startNode:this.next.domNode,startOffset:s.length}):(e=document.createTextNode(s),this.parent.insertBefore(this.scroll.create(e),this.next),r={startNode:e,startOffset:s.length}));return t.data="\ufeff",r}update(t,e){t.forEach((t=>{if("characterData"===t.type&&(t.target===this.leftGuard||t.target===this.rightGuard)){const r=this.restore(t.target);r&&(e.range=r)}}))}}export default Embed;
//# sourceMappingURL=/sm/13c6f1063dc83f9358277301bc0348e12288ee3ceabe2c5703f84cc127f6ca7c.map