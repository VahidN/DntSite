/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/quill@2.0.3/core/composition.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Embed from"../blots/embed.js";import Emitter from"./emitter.js";class Composition{isComposing=!1;constructor(t,i){this.scroll=t,this.emitter=i,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(t=>{this.isComposing||this.handleCompositionStart(t)})),this.scroll.domNode.addEventListener("compositionend",(t=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(t)}))}))}handleCompositionStart(t){const i=t.target instanceof Node?this.scroll.find(t.target,!0):null;!i||i instanceof Embed||(this.emitter.emit(Emitter.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(Emitter.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(Emitter.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(Emitter.events.COMPOSITION_END,t),this.isComposing=!1}}export default Composition;
//# sourceMappingURL=/sm/1a4c36ec851800e29d0ef1557dddd8d7709eb399e416e77df198b967bb4c0b48.map